\chapter{Actionable semigroups}

\chapter{Restricted identity transformations}

Fix an ordered semicategory action.

% \emph{Restricted identity transformation} $\id_p$, where $p$~is an element of a poset, is the (generally, partially defined) transformation $x\mapsto x\sqcap p$.

% \begin{obvious}
% $\id_q\circ\id_p = \id_{p\sqcap q}$ if~$p$ and~$q$ are elements of some poset for which binary meet is defined.
% \end{obvious}

% \begin{prop}
% $p\ne q\Rightarrow\id_p\ne\id_q$.
% \end{prop}

% \begin{proof}
% $\id_p p=p \ne q = \id_q q$.
% \end{proof}

\emph{Ordered semicategory action with identities} is an ordered semicategory~$S$ action~$\supfun{}$ together with a function $p\mapsto\id_p\in S$ such that whenever these equalities are defined
\begin{enumerate}
\item $\supfun{\id_p}x=x\sqcap p$;
\item $\id_p\circ x\sqsubseteq x$;
\item $x\circ\id_p\sqsubseteq x$.
\end{enumerate}
(I abuse the notation $\id_p$ for both interspaces and for transformations; this won't lead to inconsistencies, because as proved above this mapping is faithful on restricted identities.)

\begin{obvious}
For every ordered semicategory action with identities, the identity transformations are entirely defined on their domains.
\end{obvious}

\begin{defn}
Another axiom (that we don't need now) is $\id_p\circ\id_q=\id_{p\sqcap q}$.
\end{defn}

\emph{Restriction} of an interspace~$a$ to element~$x$ is $a|_x=a\circ\id_x$.

\emph{Square restriction} (a generalization of restriction of a topological space, metric space, etc.) of a space~$a$ to element~$x$ is $\id_x\circ a\circ\id_x$.

\section{Actionable semigroups}

Let $(A,\circ,\supfun{})$ be an ordered semigroup\fxwarning{semicategory} action with identities, with object set having greatest element~$\top$.

$\supfun{f}x = \supfun{f}\supfun{\id_x}\top = \supfun{f\circ\id_x}\top = \im(f\circ\id_x)$

We can define $g\cdot f = \supfun{g}f = \id_{\im(g\circ f)}$.

Then \[ g\cdot\id_x = \supfun{g}\id_x = \id_{\im(g\circ\id_x)} = \id_{\supfun{g}x}. \]

But, as it easy to show\fxwarning{Show.}, $x\mapsto\id_x$ is an injection. So, we extended the mapping $\supfun{g}$ to a wider set.

\begin{defn}
An \emph{actionable semicategory} is a quadruple $(A,\circ,x\mapsto\id_x,\cdot)$ such that $(A,\circ,x\mapsto\id_x)$ is an ordered semicategory with identities, and $\cdot$ is a binary operation on $A$ such that $(g\circ f)\cdot x = g\cdot(f\cdot x)$.
\fxwarning{Is $\id_x$ necessary here?}
\end{defn}

\begin{rem}
An actionable semigroup is an universal algebra scheme.
\end{rem}

\begin{defn}
If $(A,\circ,\cdot)$ is an actionable ordered semicategory with identities, then we can define $\supfun{f}x = f\cdot x$.
\end{defn}

\begin{prop}
The above defines an ordered semicategory action.
\end{prop}

\begin{proof}
Really, $(g\circ f)\cdot x = \id_{\im(g\circ f\circ x)} = \id_{\supfun{g}\supfun{f}\supfun{x}\top} = \id_{\supfun{g}{\im(f\circ x)}} = \id_{\supfun{g}(\top\sqcap\im(f\circ x))} = \id_{\im(g\circ(y\mapsto y\sqcap\im(f\circ x))} = \id_{\im(g\circ\id_{\im(f\circ x)})} = g\cdot(f\cdot x)$.

\fxwarning{Prove monotonity.}
\end{proof}

This is an ordered semicategory action with identities. [Check]

We need to check $\supfun{g\circ f}x = \supfun{g}\supfun{f}x$. Really,
\[ \supfun{g\circ f}x = (g\circ f)\cdot x = g\cdot(f\cdot x) = \supfun{g}\supfun{f}x. \]

We can also restrict it to restricted identities: $\supfun{f}\id_x = f\cdot\id_x$

We can obtain an actionable ordered semicategory with identities from an ordered semicategory action by $f\cdot x = f\circ\id_x$.

$(g\cdot f)\cdot x=(g\cdot f)\circ\id_x = (g\circ\id_f)\circ\id_x = g\id_{f\sqcap x} \ne ??\text{(counterexample)} \ne g\cdot\id_{f\circ\id_x} = g\cdot\id_{f\cdot x}$

\begin{thm}
Them bijectively correspond to each other, under the condition ??.
\end{thm}

Conclusion: Every ordered monoid with identities induces another ordered monoid with identities.