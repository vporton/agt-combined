\chapter{Actionable semigroups}

Each definition contining the word ``semicategory'' will also implicity create a similar definition for semigroups.

\chapter{Restricted identity transformations}

Fix an ordered semicategory action.

% \emph{Restricted identity transformation} $\id_p$, where $p$~is an element of a poset, is the (generally, partially defined) transformation $x\mapsto x\sqcap p$.

% \begin{obvious}
% $\id_q\circ\id_p = \id_{p\sqcap q}$ if~$p$ and~$q$ are elements of some poset for which binary meet is defined.
% \end{obvious}

% \begin{prop}
% $p\ne q\Rightarrow\id_p\ne\id_q$.
% \end{prop}

% \begin{proof}
% $\id_p p=p \ne q = \id_q q$.
% \end{proof}

\emph{Semicategory action with identities} is an ordered semicategory~$S$ action~$\supfun{}$ together with a function $p\mapsto\id_p\in S$ such that whenever these equalities are defined
\begin{enumerate}
\item $\supfun{\id_p}x=x\sqcap p$;
\item ${\id_p}\circ f\sqsubseteq f$;
\item $f\circ\id_p\sqsubseteq f$.
\end{enumerate}

\begin{obvious}
For every ordered semicategory action with identities, the identity transformations are entirely defined on their domains.
\end{obvious}

\begin{prop}
$x\mapsto\id_x$ is an injection.
\end{prop}

\begin{proof}
Let $x\ne y$. Then $x\ne x\sqcap y$ (possibly, $x\sqcap y$ is undefined).
\[ \supfun{\id_y}x=x\sqcap y\ne x=x\sqcap x=\supfun{\id_x}x. \]
\end{proof}

\begin{defn}
Another axiom (that we don't need now) is ${\id_p}\circ{\id_q}=\id_{p\sqcap q}$.
\end{defn}

\emph{Restriction} of an interspace~$a$ to element~$x$ is $a|_x=a\circ{\id_x}$.

\emph{Square restriction} (a generalization of restriction of a topological space, metric space, etc.) of a space~$a$ to element~$x$ is ${\id_x}\circ a\circ{\id_x}$.

\section{Actionable semigroups}

Let $(A,\circ,\supfun{})$ be an ordered semicategory action with identities, with object set having greatest element~$\top$.

$\supfun{f}x = \supfun{f}\supfun{\id_x}\top = \supfun{f\circ\id_x}\top = \im(f\circ\id_x)$

We can define $g\cdot f = \supfun{g}f = \id_{\im(g\circ f)}$.

Then \[ g\cdot\id_x = \supfun{g}\id_x = \id_{\im(g\circ\id_x)} = \id_{\supfun{g}x}. \]

So, we extended the mapping $\supfun{g}$ to a wider set, because $x\mapsto\id_x$ is an injection.

\begin{defn}
An \emph{actionable semicategory} is an semicategory, and $\cdot$ is a binary operation on $A$ such that $(g\circ f)\cdot x = g\cdot(f\cdot x)$.
\end{defn}

\begin{defn}
An \emph{ordered actionable semicategory} is an actionable semicategory which is also an ordered semicategory with additional equation:
\begin{enumerate}
\item $f_0\sqsubseteq f_0\land g_1\sqsubseteq g_0 \Rightarrow g_0\cdot f_0\sqsubseteq g_1\cdot f_1$.
\end{enumerate}
\end{defn}

\begin{defn}
An \emph{actionable semicategory with identities} is an actionable semicategory that is also a semicategory with identities.
\end{defn}

\begin{rem}
An actionable semigroup is an universal algebra.
\end{rem}

\begin{rem}
An actionable ordered semigroup\fxnote{Define!} is an relational algebra.
\end{rem}

\begin{rem}
It is even an universal algebra signature\footnote{See here for \href{https://chatgpt.com/s/t_691e8f88da64819184591f9e310e1728}{properties of categories isomorphic to universal algebras}.} in the case of up or down semilattice.
\end{rem}

TODO: Prove that it has the same signature for up or down semilattice.

\begin{defn}
If $(\dots,\circ,\cdot)$ is an actionable semicategory with identities, then we can define $\supfun{f}x = f\cdot x$.
\end{defn}

\begin{prop}
The above defines an ordered semicategory action.
\end{prop}

\begin{proof}
Really, $(g\circ f)\cdot x = \id_{\im(g\circ f\circ x)} = \id_{\supfun{g}\supfun{f}\supfun{x}\top} = \id_{\supfun{g}{\im(f\circ x)}} = \id_{\supfun{g}(\top\sqcap\im(f\circ x))} = \id_{\im(g\circ(y\mapsto y\sqcap\im(f\circ x))} = \id_{\im(g\circ\id_{\im(f\circ x)})} = g\cdot(f\cdot x)$.

\fxwarning{Prove monotonity.}
\end{proof}

This is an ordered semicategory action with identities. [Check]

We need to check $\supfun{g\circ f}x = \supfun{g}\supfun{f}x$. Really,
\[ \supfun{g\circ f}x = (g\circ f)\cdot x = g\cdot(f\cdot x) = \supfun{g}\supfun{f}x. \]

We can also restrict it to restricted identities: $\supfun{f}\id_x = f\cdot\id_x$

We can obtain an actionable semicategory with identities from an ordered semicategory action by $f\cdot x = f\circ\id_x$.

\begin{thm}
Them bijectively correspond to each other, under the condition ??.
\end{thm}

Conclusion: Every ordered monoid with identities induces another ordered monoid with identities.